"use strict";function asyncGeneratorStep(e,t,a,s,o,r,n){try{var l=e[r](n),i=l.value}catch(e){return void a(e)}l.done?t(i):Promise.resolve(i).then(s,o)}function _asyncToGenerator(e){return function(){var t=this,a=arguments;return new Promise((function(s,o){var r=e.apply(t,a);function n(e){asyncGeneratorStep(r,s,o,n,l,"next",e)}function l(e){asyncGeneratorStep(r,s,o,n,l,"throw",e)}n(void 0)}))}}function menu(e,t){var a=document.querySelector(e),s=document.querySelector(t);a&&a.addEventListener("click",(function(){a.classList.toggle("active"),document.body.classList.toggle("lock"),s.classList.toggle("active")}))}function ibg(){for(var e=document.querySelectorAll(".ibg"),t=0;t<e.length;t++)e[t].querySelector("img")&&null!=e[t].querySelector("img").getAttribute("src")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}function tabs(e,t,a,s){var o=document.querySelectorAll(e),r=document.querySelectorAll(t),n=document.querySelector(a);function l(){r.forEach(e=>{e.classList.add("hide"),e.classList.remove("show","fade")}),o.forEach(e=>{e.classList.remove(s)})}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;r[e].classList.add("show","fade"),r[e].classList.remove("hide"),o[e].classList.add(s)}l(),i(),n.addEventListener("click",t=>{var a=t.target;(a.classList.contains(e.replace(/\./,""))||a.parentNode.classList.contains("team__workers__item")||a.parentNode.classList.contains("team__workers__item__image"))&&o.forEach((t,s)=>{a.closest(e)==t&&(l(),i(s))})})}function closeModal(e){var t=document.querySelector(e),a=document.querySelector(".modal__title");t.classList.add("hide"),t.classList.remove("show","fade"),bodyUnLock(),a.textContent=""}function showModal(e,t){var a=document.querySelector(e),s=document.querySelector(".modal__title");a.classList.remove("hide"),a.classList.add("show","fade"),bodyLock(),s.textContent=t}function modal(e){var t=document.querySelector(e);t.addEventListener("click",a=>{(a.target===t||a.target.getAttribute(!1))&&closeModal(e)}),document.addEventListener("keydown",a=>{"Escape"===a.code&&t.classList.contains("show")&&closeModal(e)})}function bodyLock(){var e=document.querySelector(".lock-padding"),t=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";e.style.paddingRight=t,document.body.style.paddingRight=t,document.body.classList.add("lock")}function bodyUnLock(){document.querySelector(".lock-padding").style.paddingRight="0px",document.body.style.paddingRight="0px",document.body.classList.remove("lock")}function slickSlider(){$(".slider__body").length>0&&$(".slider__body").slick({dots:!0,arrows:!1,accessibility:!1,slidesToShow:1,autoplaySpeed:3e3,nextArrow:'<button type="button" class="slick-next"></button>',prevArrow:'<button type="button" class="slick-prev"></button>',responsive:[{breakpoint:768,settings:{}}]})}function formValidation(){function e(e){var s=0,o=e.parents("form");if("email"==e.attr("name")||e.hasClass("email")){if(e.val()!=e.attr("data-value")){var r=e.val().replace(" ","");e.val(r)}/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.val())&&e.val()!=e.attr("data-value")?a(e):(s++,t(e))}else""==e.val()||e.val()==e.attr("data-value")?(s++,t(e)):a(e);return"checkbox"==e.attr("type")&&(1==e.prop("checked")?e.removeClass("err").parent().removeClass("err"):(s++,e.addClass("err").parent().addClass("err"))),e.hasClass("name")&&(/^[А-Яа-яa-zA-Z-]+( [А-Яа-яa-zA-Z-]+)$/.test(e.val())||(s++,t(e))),e.hasClass("pass-2")&&(o.find(".pass-1").val()!=o.find(".pass-2").val()?t(e):a(e)),s}function t(e){if(e.addClass("err"),e.parent().addClass("err"),e.parent().find(".form__error").remove(),e.hasClass("email")){var t="";null!=(t=(""==e.val()||(e.val(),e.attr("data-value")),e.data("error")))&&e.parent().append('<div class="form__error">'+t+"</div>")}else null!=e.data("error")&&0==e.parent().find(".form__error").length&&e.parent().append('<div class="form__error">'+e.data("error")+"</div>");e.parents(".select-block").length>0&&(e.parents(".select-block").parent().addClass("err"),e.parents(".select-block").find(".select").addClass("err"))}function a(e){e.removeClass("err"),e.parent().removeClass("err"),e.parent().find(".form__error").remove(),e.parents(".select-block").length>0&&(e.parents(".select-block").parent().removeClass("err"),e.parents(".select-block").find(".select").removeClass("err").removeClass("active"))}$("input,textarea").focus((function(){$(this).val()==$(this).attr("data-value")&&($(this).addClass("focus"),$(this).parent().addClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","password"),$(this).val("")),a($(this))})),$("input[data-value], textarea[data-value]").each((function(){""!=this.value&&this.value!=$(this).attr("data-value")||($(this).hasClass("l")&&0==$(this).parent().find(".form__label").length?$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>"):this.value=$(this).attr("data-value")),this.value!=$(this).attr("data-value")&&""!=this.value&&($(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),$(this).click((function(){this.value==$(this).attr("data-value")&&("pass"==$(this).attr("data-type")&&$(this).attr("type","password"),this.value="")})),$(this).blur((function(){""==this.value&&($(this).hasClass("l")||(this.value=$(this).attr("data-value")),$(this).removeClass("focus"),$(this).parent().removeClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","text")),$(this).hasClass("vn")&&e($(this))}))})),$(".form-input__viewpass").click((function(e){$(this).hasClass("active")?$(this).parent().find("input").attr("type","password"):$(this).parent().find("input").attr("type","text"),$(this).toggleClass("active")})),$("form button[type=submit]").click((function(){var t=0,a=$(this).parents("form"),s=a.data("ms");return $.each(a.find(".req"),(function(a,s){t+=e($(this))})),0==t&&(function(e){e.find(".form__generalerror").hide().html("")}(a),null!=s&&""!=s?(showMessageByClass(s),!1):void 0)}))}function images(){var e=document.createElement("div"),t=document.querySelector(".portfolio__content"),a=document.createElement("img");e.classList.add("popup"),t.appendChild(e),e.style.justifyContent="center",e.style.alignContent="center",e.appendChild(a),t.addEventListener("click",t=>{t.preventDefault();var s=t.target;if(console.log(s),s&&s.closest(".portfolio__column__content")){if(s.classList.contains("preview")){var o=s.parentNode.getAttribute("href");console.log("path:",o),a.setAttribute("src",o),console.log("bigImage1:",a),console.log("imgPopup1:",e)}else if(s.classList.contains("preview-svg")){if(s.closest(".info"))var r=s.closest(".info").previousElementSibling.getAttribute("href");console.log("path2:",r),a.setAttribute("src",r),console.log("bigImage2:",a),console.log("imgPopup2:",e)}else if(s.classList.contains("info__item")){if(s.closest(".info"))var n=s.closest(".info").previousElementSibling.getAttribute("href");console.log("path3:",n),a.setAttribute("src",n),console.log("bigImage3:",a),console.log("imgPopup3:",e)}e.style.display="flex",bodyLock()}s.closest(".popup")&&s.matches("img")&&(e.style.display="none",bodyUnLock())})}function form(e,t){var a=function(){var e=_asyncToGenerator((function*(e,t){var a=yield fetch(e,{method:"POST",headers:{"Content-type":"application/json"},body:t});return yield a.json()}));return function(t,a){return e.apply(this,arguments)}}(),s=document.querySelectorAll(e),o=document.querySelector("input[name='budget']"),r="Loading process...",n="Thanks, we'll connect with you soon!",l="Sorry, we have some problem...",i="Thank you for subscribe!";function c(e){e.forEach(e=>{null!=e&&(e.classList.remove("focus"),e.value=e.dataset.value,e.parentElement.classList.remove("focus"),e.blur())})}function d(e){showModal(".modal",e),setTimeout(()=>{closeModal(".modal")},3e3)}s.forEach(e=>{!function(e){e.addEventListener("submit",s=>{s.preventDefault(),d(r);var o=new FormData(e),u=JSON.stringify(Object.fromEntries(o.entries()));e.hasAttribute("data-subs")?a(" http://localhost:3000/subscribe",u).then(e=>{console.log(e),d(i)}).catch(()=>{d(l)}).finally(()=>{c(e.querySelectorAll(t))}):a("http://localhost:3000/requests",u).then(e=>{console.log(e),d(n)}).catch(()=>{d(l)}).finally(()=>{var a=e.querySelectorAll("div"),s=[];a.forEach(e=>{s.push(e.querySelector(t))}),console.log(s),c(s)})})}(e)}),o.addEventListener("input",()=>o.value=o.value.replace(/\D/,""))}document.addEventListener("DOMContentLoaded",()=>{menu(".icon-menu",".header-menu__body"),ibg(),tabs(".team__workers__column",".review__content",".team__workers__row","team__workers__column-active"),modal(".modal"),slickSlider(),formValidation(),images(),form("form",".input")});